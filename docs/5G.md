# 1. Start 5G Standalone Mini Core Network (CN) with NRF

The openairinterface 5G core federation repository is located at [https://gitlab.eurecom.fr/oai/cn5g/oai-cn5g-fed](https://gitlab.eurecom.fr/oai/cn5g/oai-cn5g-fed).

Pull the images and install the prerequisites according to [here](https://gitlab.eurecom.fr/oai/cn5g/oai-cn5g-fed/-/blob/master/docs/DEPLOY_HOME.md).

We choose a mini deployment with NRF as described [here](https://gitlab.eurecom.fr/oai/cn5g/oai-cn5g-fed/-/blob/master/docs/DEPLOY_SA5G_MINI_DS_TESTER_DEPLOYMENT.md).

1. Configure the core network

		sudo vim ~/oai-cn5g-fed/docker-compose/docker-compose-mini-nrf.yaml
		
	Attention to the `AMF` parameters. Especially `PLMN_SUPPORT_MCC`, `PLMN_SUPPORT_MNC`, `PLMN_SUPPORT_TAC`, `SST_0`, `SD_0`, `SST_1`, and `SD_1`. These parameters must be set similar to gnb.

2. Deploy 

		cd ~/oai-cn5g-fed/docker-compose/
		python3 ./core-network.py --type start-mini --fqdn no --scenario 1
		
	Undeploy

		cd ~/oai-cn5g-fed/docker-compose/
		python3 ./core-network.py --type stop-mini
		
	See all the options
	
		python3 core-network.py --help


# 2. Start 5G Base Station (gNodeB)

Currently, there is no config file provided for standalone USRP B210 106PRB. Therefore, the config file provided in the repository `gnodeb/gnb.conf` is a combination of non-standlaone B210 106PRB config file and standalone N310 106PRB config files in the links below.

	https://gitlab.eurecom.fr/oai/openairinterface5g/-/blob/develop/ci-scripts/conf_files/gnb.band78.tm1.fr1.106PRB.usrpb210.conf
	https://gitlab.eurecom.fr/oai/openairinterface5g/-/blob/develop/ci-scripts/conf_files/gNB_SA_n78_106PRB.2x2_usrpn310.conf
	
1. Deploy

		cd ~/oai-all-in-docker/gnodeb		
		docker-compose up oai-gnb

	Undeploy
	
		cd ~/oai-all-in-docker/gnodeb
		docker-compose down

